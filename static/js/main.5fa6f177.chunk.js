(this["webpackJsonpreact-35-4-hands"]=this["webpackJsonpreact-35-4-hands"]||[]).push([[0],{14:function(e,t,n){e.exports={backDrop:"Modal_backDrop__2y87I",content:"Modal_content__TzpKg"}},31:function(e,t,n){},32:function(e,t,n){},37:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(12),s=n.n(r),o=(n(31),n(26)),i=n(2),l=n(3),u=n(6),h=n(5),d=(n(32),n(24)),p=n(8),j=n(59),b=n(0),g=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).prodIdtitle=Object(j.a)(),e.prodIdDesc=Object(j.a)(),e.prodIdSize=Object(j.a)(),e.prodIdokGoogle=Object(j.a)(),e.state={title:"",desc:"",size:"",okGoogle:!1,product:null},e.handleCheck=function(t){var n=t.target,a=n.name,c=n.checked,r=e.state.okGoogle;console.log("name:",a),console.log("checked:",c),e.setState({okGoogle:!r})},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(p.a)({},a,c))},e.handleChangeAllInputs=function(t){var n=t.target,a=n.name,c=n.type,r=n.checked,s=n.value;e.setState(Object(p.a)({},a,"checkbox"===c?r:s))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.title,c=n.desc,r=n.size,s={id:Object(j.a)(),title:a,description:c,size:r};e.setState({product:s}),e.props.addNewProduct(s),e.resetForm()},e.resetForm=function(){e.setState(Object(d.a)({},e.state))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.desc,a=e.size,c=e.okGoogle,r=this.handleChangeAllInputs,s=this.handleSubmit,o=this.prodIdtitle,i=this.prodIdDesc,l=this.prodIdSize,u=this.prodIdokGoogle;return Object(b.jsxs)("form",{onSubmit:s,children:[Object(b.jsx)("label",{htmlFor:o,children:"Title"}),Object(b.jsx)("input",{type:"text",id:o,name:"title",value:t,onChange:r}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:i,children:"Description"}),Object(b.jsx)("input",{type:"text",id:i,name:"desc",value:n,onChange:r}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:l,children:"Choose your size"}),Object(b.jsxs)("select",{name:"size",value:a,onChange:r,id:l,children:[Object(b.jsx)("option",{value:"",disabled:!0,children:"..."}),Object(b.jsx)("option",{value:"s",children:"s"}),Object(b.jsx)("option",{value:"m",children:"m"}),Object(b.jsx)("option",{value:"l",children:"l"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:u,children:"Agree?"}),Object(b.jsx)("input",{type:"checkbox",name:"okGoogle",id:u,checked:c,onChange:r}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",disabled:!c,children:"add"})]})}}]),n}(a.Component),O=n(9);n(37);function f(e){var t=e.unitRef,n=e.isOpen,a=e.toggleState,c=e.keydownHandler,r=e.handleClick,s=e.handleDelete,o=e.textObj,i=o.title,l=o.content,u=o.backBtn,h=o.deleteBtn;return Object(b.jsx)(O.a,{flipId:"wrapper",children:Object(b.jsxs)("div",{ref:t,tabIndex:n?void 0:0,role:"dialog",className:"dialog animated-in",onClick:a,onKeyDown:c,children:[Object(b.jsx)("p",{className:"title content",children:i}),Object(b.jsx)("p",{className:"content",children:l}),Object(b.jsx)("button",{className:"button secondary content",onClick:r,children:u}),Object(b.jsx)("button",{className:"button primary content",onClick:s,children:h})]})})}f.defaultProps={textObj:{title:"Delete this item?",content:"This operation will permenantly delete this item and all its dependencies. This actioncannot be undone",backBtn:"Oh no, bring me back",deleteBtn:"I understand, delete it"}};var m=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:e.props.isOpen},e.ref=Object(a.createRef)(),e.toggleState=function(){e.state.isOpen||(e.setState((function(e){return{isOpen:!e.isOpen}})),e.ref.current.focus())},e.keydownHandler=function(t){"Enter"!==t.key&&"Escape"!==t.key||e.toggleState()},e.handleClick=function(){return e.setState({isOpen:!1})},e.handleDelete=function(){e.props.onDelete(e.props.id),e.setState({isOpen:!1})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.isOpen,t=this.ref,n=this.keydownHandler,a=this.toggleState,c=this.handleClick,r=this.handleDelete;return Object(b.jsx)(O.b,{flipKey:e,spring:"stiff",stagger:!0,children:e?Object(b.jsx)(f,{unitRef:t,isOpen:e,toggleState:a,keydownHandler:n,handleClick:c,handleDelete:r,textObj:this.props.text}):Object(b.jsx)(O.a,{flipId:"wrapper",children:Object(b.jsx)("div",{ref:t,tabIndex:0,role:"button",className:"button primary",onClick:a,onKeyDown:n,children:Object(b.jsx)(O.a,{flipId:"action",children:Object(b.jsx)("span",{className:"action",children:"Delete"})})})})})}}]),n}(a.Component);function v(e){var t=e.products,n=e.onDeleteProduct;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Product List"}),Object(b.jsx)("ul",{children:t.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("h3",{children:e.title}),Object(b.jsx)("p",{children:e.description}),Object(b.jsx)(m,{onDelete:n,id:e.id})]},e.id)}))})]})}var x=n(14),y=n.n(x),k=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleEscape=function(t){var n="Escape"===t.code;console.log(n),n&&e.props.toggleModal()},e.handleClose=function(t){t.currentTarget===t.target&&e.props.toggleModal()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEscape)}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEscape)}},{key:"render",value:function(){var e=this.props.children;return Object(r.createPortal)(Object(b.jsx)("div",{className:y.a.backDrop,onClick:this.handleClose,children:Object(b.jsx)("div",{className:y.a.content,children:e})}),document.getElementById("modalRoot"))}}]),n}(a.Component),P=n(15),S=n.n(P),w=n(25),C=n(7),D=n.n(C),I=function(){function e(t,n){Object(i.a)(this,e),this.base_url=t,this.api_key=n,this._searchQuery="",this._page=1,this._perPage=5,this.endPoint=""}return Object(l.a)(e,[{key:"searchQuery",get:function(){return this._searchQuery},set:function(e){return this._searchQuery=e}},{key:"page",get:function(){return this._page},set:function(e){return this._page+=e}},{key:"perPage",get:function(){return this._perPage},set:function(e){return this._perPage+=e}},{key:"searchPhotos",value:function(){var e=Object(w.a)(S.a.mark((function e(){var t,n,a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.a.defaults.baseURL=this.base_url,D.a.defaults.headers.common.Authorization=this.api_key,this.endPoint="search",console.log("searchQuery",this.searchQuery,"page",this.page,"perPage",this.perPage),t="?query=".concat(this.searchQuery,"&page=").concat(this.page,"&per_page=").concat(this.perPage),n=this.endPoint+t,e.prev=6,e.next=9,D.a.get(n);case 9:return a=e.sent,c=a.data.photos,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",e.t0.message);case 17:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(){return e.apply(this,arguments)}}()}]),e}();var _=new I("https://api.pexels.com/v1/","563492ad6f9170000100000188f3b8d3cd1047e392f28560cf9684bd");console.log(_);var N=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={searchResults:[],status:"init"},e.handleClick=function(){_.page=1},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;e.searchValue===this.props.searchValue&&e.perPage===this.props.perPage||(console.log("get fetch"),this.setState({status:"pending"}),_.searchQuery=this.props.searchValue,_.perPage=this.props.perPage,_.searchPhotos().then((function(e){console.log(e),n.setState({searchResults:e,status:"success"})})).catch((function(e){console.log(e),n.setState({status:"error"})})))}},{key:"render",value:function(){return"init"===this.state.status?Object(b.jsx)("h1",{children:"Helo, search something"}):"pending"===this.state.status?Object(b.jsx)("h1",{children:"Loading"}):"success"===this.state.status?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("ul",{children:this.state.searchResults.length.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)("img",{src:e.src.tiny,alt:e.photographer})},e.id)}))})}):(this.handleClick,"error"===this.state.status?Object(b.jsx)("h1",{children:"Alarma!!!"}):void 0)}}]),n}(Object(a.Component)()),V=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={searchValue:"",perPage:5},e.handleSearchChange=function(t){e.setState({searchValue:t.target.value});var n=t.target,a=n.name,c=n.value;e.setState(Object(p.a)({},a,c))},e.handleSearchSubmit=function(t){t.preventDefault(),console.log("before fetch",e.state.searchValue),e.props.getSearchValues(e.state.searchValue,e.state.perPage)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("form",{onSubmit:this.handleSearchSubmit,children:[Object(b.jsx)("input",{type:"text",name:"searchValue",onChange:this.handleSearchChange,value:this.state.searchValue,placeholder:"Value"}),Object(b.jsx)("input",{type:"number",name:"perPage",onChange:this.handleSearchChange,value:this.state.perPage,placeholder:"How many results"}),Object(b.jsx)("button",{type:"submit",children:"search"})]})}}]),n}(Object(a.Component)()),M=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={counter:0,isOpen:!1,showModal:!1,allProducts:[],searchValue:"",perPage:5},e.addNewProduct=function(t){return e.setState((function(e){return{allProducts:[].concat(Object(o.a)(e.allProducts),[t])}}))},e.deleteProduct=function(t){return e.setState((function(e){return{allProducts:e.allProducts.filter((function(e){return e.id!==t}))}}))},e.toggleModal=function(){e.setState({showModal:!e.state.showModal})},e.getSearchValues=function(t,n){return e.setState({searchValue:t,perPage:n})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("MOUNT");var e=localStorage.getItem("products"),t=JSON.parse(e);t&&this.setState({allProducts:t}),this.setState({allProducts:t})}},{key:"componentDidUpdate",value:function(e,t){console.log("UPDATE"),t.allProducts!==this.state.allProducts&&localStorage.setItem("products",JSON.stringify(this.state.allProducts))}},{key:"componentWillUnmount",value:function(){console.log("UNMOUNT")}},{key:"render",value:function(){var e=this.state,t=e.searchValue,n=e.perPage,a=e.allProducts;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(V,{getSearchValues:this.getSearchValues}),Object(b.jsx)(N,{searchValue:t,perPage:n}),this.state.showModal&&Object(b.jsx)(k,{toggleModal:this.toggleModal,children:Object(b.jsx)(g,{addNewProduct:this.addNewProduct})}),Object(b.jsx)("h1",{children:"FE-35 Product"}),Object(b.jsx)("button",{type:"button",onClick:this.toggleModal,children:"Add product"}),Object(b.jsx)(v,{products:a,onDeleteProduct:this.deleteProduct})]})}}]),n}(a.Component),A=M;s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(A,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.5fa6f177.chunk.js.map