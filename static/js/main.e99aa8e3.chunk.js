(this["webpackJsonpreact-35-4-hands"]=this["webpackJsonpreact-35-4-hands"]||[]).push([[0],{17:function(e,t,n){e.exports={productItem:"Products_productItem__148XT",productTitle:"Products_productTitle__2Pkez",productDesc:"Products_productDesc__1A9fw"}},20:function(e,t,n){e.exports={gradientColor:"SolidTitle_gradientColor__2jveB",title3:"SolidTitle_title3__2UQqJ SolidTitle_gradientColor__2jveB",distort:"SolidTitle_distort__VI0NO"}},21:function(e,t,n){e.exports={backDrop:"Modal_backDrop__2y87I",content:"Modal_content__TzpKg"}},37:function(e,t,n){},41:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(13),s=n.n(a),i=(n(37),n(10)),o=n(2),l=function(e,t){var n=Object(c.useState)((function(){var n;return null!==(n=JSON.parse(localStorage.getItem(e)))&&void 0!==n?n:t})),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,s]},u=n(5),d=n(6),h=n(16),j=n(15),b=n(7),p=(n(41),n(0));function O(e){var t=e.unitRef,n=e.isOpen,c=e.toggleState,r=e.keydownHandler,a=e.handleClick,s=e.handleDelete,i=e.textObj,o=i.title,l=i.content,u=i.backBtn,d=i.deleteBtn;return Object(p.jsx)(b.a,{flipId:"wrapper",children:Object(p.jsxs)("div",{ref:t,tabIndex:n?void 0:0,role:"dialog",className:"dialog animated-in",onClick:c,onKeyDown:r,children:[Object(p.jsx)("p",{className:"title content",children:o}),Object(p.jsx)("p",{className:"content",children:l}),Object(p.jsx)("button",{className:"button secondary content",onClick:a,children:u}),Object(p.jsx)("button",{className:"button primary content",onClick:s,children:d})]})})}O.defaultProps={textObj:{title:"Delete this item?",content:"This operation will permenantly delete this item and all its dependencies. This actioncannot be undone",backBtn:"Oh no, bring me back",deleteBtn:"I understand, delete it"}};var f=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isOpen:e.props.isOpen},e.ref=Object(c.createRef)(),e.toggleState=function(){e.state.isOpen||(e.setState((function(e){return{isOpen:!e.isOpen}})),e.ref.current.focus())},e.keydownHandler=function(t){"Enter"!==t.key&&"Escape"!==t.key||e.toggleState()},e.handleClick=function(){return e.setState({isOpen:!1})},e.handleDelete=function(){e.props.onDelete(e.props.id),e.setState({isOpen:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state.isOpen,t=this.ref,n=this.keydownHandler,c=this.toggleState,r=this.handleClick,a=this.handleDelete;return Object(p.jsx)(b.b,{flipKey:e,spring:"stiff",stagger:!0,children:e?Object(p.jsx)(O,{unitRef:t,isOpen:e,toggleState:c,keydownHandler:n,handleClick:r,handleDelete:a,textObj:this.props.text}):Object(p.jsx)(b.a,{flipId:"wrapper",children:Object(p.jsx)("div",{ref:t,tabIndex:0,role:"button",className:"button primary",onClick:c,onKeyDown:n,children:Object(p.jsx)(b.a,{flipId:"action",children:Object(p.jsx)("span",{className:"action",children:"Delete"})})})})})}}]),n}(c.Component),g=n(17),x=n.n(g),m=n(20),v=n.n(m),y=n(4);function k(e){var t=e.titleText,n=Object(c.useRef)(),r=Object(c.useCallback)((function(){y.a.to("feDisplacementMap",1,{attr:{scale:0},ease:"circ.out"},1),y.a.to("feTurbulence",1,{attr:{baseFrequency:"2.01 .01"},ease:"circ.out"},1),y.a.to(n.current,1,{fontVariationSettings:"'wght' 700",ease:"back.out"},1)}),[]),a=Object(c.useCallback)((function(){y.a.to("feDisplacementMap",1,{attr:{scale:100},ease:"circ.out"}),y.a.to("feTurbulence",1,{attr:{baseFrequency:"2.08 .08"},ease:"circ.out"},1),y.a.to(n.current,1,{fontVariationSettings:"'wght' 650",ease:"back.out"})}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:v.a.title3,onMouseEnter:a,onMouseLeave:r,ref:n,children:t}),Object(p.jsx)("svg",{className:v.a.distort,children:Object(p.jsxs)("filter",{id:"distortionFilter",children:[Object(p.jsx)("feTurbulence",{type:"fractalNoise",baseFrequency:"2.01 .01",numOctaves:"5",seed:"2",stitchTiles:"noStitch",x:"0%",y:"0%",width:"100%",height:"100%",result:"noise"}),Object(p.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"0",xChannelSelector:"R",yChannelSelector:"B",x:"0%",y:"0%",width:"100%",height:"100%",filterUnits:"userSpaceOnUse"})]})})]})}function S(e){var t=e.products,n=e.onDeleteProduct;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k,{titleText:"Product List"}),Object(p.jsx)("ul",{children:t.map((function(e){return Object(p.jsxs)("li",{className:x.a.productItem,children:[Object(p.jsx)("h3",{className:x.a.productTitle,children:e.title}),Object(p.jsx)("p",{className:x.a.productDesc,children:e.description}),Object(p.jsx)(f,{onDelete:n,id:e.id})]},e.id)}))})]})}var _=n(21),w=n.n(_);function C(e){var t=e.children,n=e.toggleModal;Object(c.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){var t="Escape"===e.code;console.log(t),t&&n()};return Object(a.createPortal)(Object(p.jsx)("div",{className:w.a.backDrop,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(p.jsx)("div",{className:w.a.content,children:t})}),document.getElementById("modalRoot"))}var P=n(31),D=n(9),I=n(65),N=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).prodIdtitle=Object(I.a)(),e.prodIdDesc=Object(I.a)(),e.prodIdSize=Object(I.a)(),e.prodIdokGoogle=Object(I.a)(),e.state={title:"",desc:"",size:"",okGoogle:!1,product:null},e.handleCheck=function(t){var n=t.target,c=n.name,r=n.checked,a=e.state.okGoogle;console.log("name:",c),console.log("checked:",r),e.setState({okGoogle:!a})},e.handleChange=function(t){var n=t.target,c=n.name,r=n.value;e.setState(Object(D.a)({},c,r))},e.handleChangeAllInputs=function(t){var n=t.target,c=n.name,r=n.type,a=n.checked,s=n.value;e.setState(Object(D.a)({},c,"checkbox"===r?a:s))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,c=n.title,r=n.desc,a=n.size,s={id:Object(I.a)(),title:c,description:r,size:a};e.setState({product:s}),e.props.addNewProduct(s),e.resetForm()},e.resetForm=function(){e.setState(Object(P.a)({},e.state))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.desc,c=e.size,r=e.okGoogle,a=this.handleChangeAllInputs,s=this.handleSubmit,i=this.prodIdtitle,o=this.prodIdDesc,l=this.prodIdSize,u=this.prodIdokGoogle;return Object(p.jsxs)("form",{onSubmit:s,children:[Object(p.jsx)("label",{htmlFor:i,children:"Title"}),Object(p.jsx)("input",{type:"text",id:i,name:"title",value:t,onChange:a}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:o,children:"Description"}),Object(p.jsx)("input",{type:"text",id:o,name:"desc",value:n,onChange:a}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:l,children:"Choose your size"}),Object(p.jsxs)("select",{name:"size",value:c,onChange:a,id:l,children:[Object(p.jsx)("option",{value:"",disabled:!0,children:"..."}),Object(p.jsx)("option",{value:"s",children:"s"}),Object(p.jsx)("option",{value:"m",children:"m"}),Object(p.jsx)("option",{value:"l",children:"l"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:u,children:"Agree?"}),Object(p.jsx)("input",{type:"checkbox",name:"okGoogle",id:u,checked:r,onChange:a}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{type:"submit",disabled:!r,children:"add"})]})}}]),n}(c.Component);function T(e){var t=e.getSearchValues,n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(5),l=Object(o.a)(i,2),u=l[0],d=l[1],h=function(e){var t=e.target,n=t.name,c=t.value;switch(n){case"searchValue":s(c);break;case"perPage":d(c)}};return Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("BEFORE FETCH",a,u),t(a,u),s("")},children:[Object(p.jsx)("input",{type:"text",name:"searchValue",value:a,onChange:h,placeholder:"Value"}),Object(p.jsx)("input",{type:"number",name:"perPage",value:u,onChange:h,placeholder:"how many results?"}),Object(p.jsx)("button",{type:"submit",children:"search"})]})}var F=n(22),E=n.n(F),A=n(32),M=n(18),z=n.n(M),B=function(){function e(t,n){Object(u.a)(this,e),this.base_url=t,this.api_key=n,this._searchQuery="",this._page=1,this._perPage=5,this.endPoint=""}return Object(d.a)(e,[{key:"searchQuery",get:function(){return this._searchQuery},set:function(e){return this._searchQuery=e}},{key:"page",get:function(){return this._page},set:function(e){return this._page+=e}},{key:"resetPage",value:function(){return this._page=1}},{key:"perPage",get:function(){return this._perPage},set:function(e){return this._perPage=e}},{key:"searchPhotos",value:function(){var e=Object(A.a)(E.a.mark((function e(){var t,n,c,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z.a.defaults.baseURL=this.base_url,z.a.defaults.headers.common.Authorization=this.api_key,this.endPoint="search",console.log("searchQuery",this.searchQuery,"page",this.page,"perPage",this.perPage),t="?query=".concat(this.searchQuery,"&page=").concat(this.page,"&per_page=").concat(this.perPage),n=this.endPoint+t,e.prev=6,e.next=9,z.a.get(n);case 9:return c=e.sent,r=c.data.photos,e.abrupt("return",r);case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",e.t0.message);case 17:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),R=new B("https://api.pexels.com/v1/","563492ad6f91700001000001390f9fee0a794c1182a72e49e0e0eae2");function V(e){var t=e.searchValue,n=e.perPage,r=l("pexelImages",[]),a=Object(o.a)(r,2),s=a[0],u=a[1],d=Object(c.useState)("init"),h=Object(o.a)(d,2),j=h[0],b=h[1];Object(c.useEffect)((function(){t.trim()&&(b("pending"),R.resetPage(),R.searchQuery=t,R.perPage=n,R.searchPhotos().then((function(e){b("success"),u(e)})).catch((function(e){console.log(e),b("error")})))}),[t,n,u]);return"init"===j?Object(p.jsx)("h1",{children:"Hello! Search something"}):"pending"===j?Object(p.jsx)("h1",{children:"Wait please!"}):"success"===j?(console.log("success",s),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ul",{style:{display:"flex",flexFlow:"row wrap"},children:s.length>0&&s.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)("img",{src:e.src.tiny,alt:e.photographer})},e.id)}))}),Object(p.jsx)("button",{type:"button",onClick:function(){R.page=1,R.searchPhotos().then((function(e){u((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),console.log("setSearchResults",e),b("success")})).catch((function(e){b("error")}))},children:"load more"})]})):"error"===j?Object(p.jsx)("h1",{children:"ALARMA!!!"}):void 0}n(62);var Q=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],a=function(e){var t=Object(c.useState)(e),n=Object(o.a)(t,2),r=n[0],a=n[1];return[r,function(){a((function(e){return!e}))}]}(!1),s=Object(o.a)(a,2),u=s[0],d=s[1],h=Object(c.useState)(""),j=Object(o.a)(h,2),b=j[0],O=j[1],f=l("products",[]),g=Object(o.a)(f,2),x=g[0],m=g[1],v=Object(c.useMemo)((function(){var e=b.toLowerCase();return x.filter((function(t){return t.title.toLowerCase().includes(e)}))}),[b,x]),y=Object(c.useState)(5),k=Object(o.a)(y,2),_=k[0],w=k[1],P=Object(c.useCallback)((function(e){return O(e.target.value)}),[]);return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(T,{getSearchValues:function(e,t){r(e),w(t)}}),Object(p.jsx)(V,{searchValue:n,perPage:_}),u&&Object(p.jsx)(C,{toggleModal:d,children:Object(p.jsx)(N,{addNewProduct:function(e){return m((function(t){return[].concat(Object(i.a)(t),[e])}))}})}),Object(p.jsx)("h1",{children:"FE-35 Product"}),Object(p.jsx)("button",{type:"button",onClick:d,children:"Add Product"}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:"filter",children:"Filter"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",id:"filter",value:b,onChange:P}),Object(p.jsx)("br",{}),Object(p.jsx)(S,{products:v,onDeleteProduct:function(e){return m((function(t){return t.filter((function(t){return t.id!==e}))}))}})]})};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Q,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.e99aa8e3.chunk.js.map