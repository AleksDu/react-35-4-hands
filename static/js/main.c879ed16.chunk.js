(this["webpackJsonpreact-35-4-hands"]=this["webpackJsonpreact-35-4-hands"]||[]).push([[0],{14:function(e,t,n){e.exports={backDrop:"Modal_backDrop__2y87I",content:"Modal_content__TzpKg"}},29:function(e,t,n){},30:function(e,t,n){},35:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(11),r=n.n(o),s=(n(29),n(24)),l=n(2),i=n(3),d=n(6),u=n(5),h=(n(30),n(23)),p=n(8),j=n(56),b=n(0),O=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).prodIdtitle=Object(j.a)(),e.prodIdDesc=Object(j.a)(),e.prodIdSize=Object(j.a)(),e.prodIdokGoogle=Object(j.a)(),e.state={title:"",desc:"",size:"",okGoogle:!1,product:null},e.handleCheck=function(t){var n=t.target,a=n.name,c=n.checked,o=e.state.okGoogle;console.log("name:",a),console.log("checked:",c),e.setState({okGoogle:!o})},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(p.a)({},a,c))},e.handleChangeAllInputs=function(t){var n=t.target,a=n.name,c=n.type,o=n.checked,r=n.value;e.setState(Object(p.a)({},a,"checkbox"===c?o:r))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.title,c=n.desc,o=n.size,r={id:Object(j.a)(),title:a,description:c,size:o};e.setState({product:r}),e.props.addNewProduct(r),e.resetForm()},e.resetForm=function(){e.setState(Object(h.a)({},e.state))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.desc,a=e.size,c=e.okGoogle,o=this.handleChangeAllInputs,r=this.handleSubmit,s=this.prodIdtitle,l=this.prodIdDesc,i=this.prodIdSize,d=this.prodIdokGoogle;return Object(b.jsxs)("form",{onSubmit:r,children:[Object(b.jsx)("label",{htmlFor:s,children:"Title"}),Object(b.jsx)("input",{type:"text",id:s,name:"title",value:t,onChange:o}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:l,children:"Description"}),Object(b.jsx)("input",{type:"text",id:l,name:"desc",value:n,onChange:o}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:i,children:"Choose your size"}),Object(b.jsxs)("select",{name:"size",value:a,onChange:o,id:i,children:[Object(b.jsx)("option",{value:"",disabled:!0,children:"..."}),Object(b.jsx)("option",{value:"s",children:"s"}),Object(b.jsx)("option",{value:"m",children:"m"}),Object(b.jsx)("option",{value:"l",children:"l"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:d,children:"Agree?"}),Object(b.jsx)("input",{type:"checkbox",name:"okGoogle",id:d,checked:c,onChange:o}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",disabled:!c,children:"add"})]})}}]),n}(a.Component),f=n(7);n(35);function g(e){var t=e.unitRef,n=e.isOpen,a=e.toggleState,c=e.keydownHandler,o=e.handleClick,r=e.handleDelete,s=e.textObj,l=s.title,i=s.content,d=s.backBtn,u=s.deleteBtn;return Object(b.jsx)(f.a,{flipId:"wrapper",children:Object(b.jsxs)("div",{ref:t,tabIndex:n?void 0:0,role:"dialog",className:"dialog animated-in",onClick:a,onKeyDown:c,children:[Object(b.jsx)("p",{className:"title content",children:l}),Object(b.jsx)("p",{className:"content",children:i}),Object(b.jsx)("button",{className:"button secondary content",onClick:o,children:d}),Object(b.jsx)("button",{className:"button primary content",onClick:r,children:u})]})})}g.defaultProps={textObj:{title:"Delete this item?",content:"This operation will permenantly delete this item and all its dependencies. This actioncannot be undone",backBtn:"Oh no, bring me back",deleteBtn:"I understand, delete it"}};var m=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:e.props.isOpen},e.ref=Object(a.createRef)(),e.toggleState=function(){e.state.isOpen||(e.setState((function(e){return{isOpen:!e.isOpen}})),e.ref.current.focus())},e.keydownHandler=function(t){"Enter"!==t.key&&"Escape"!==t.key||e.toggleState()},e.handleClick=function(){return e.setState({isOpen:!1})},e.handleDelete=function(){e.props.onDelete(e.props.id),e.setState({isOpen:!1})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state.isOpen,t=this.ref,n=this.keydownHandler,a=this.toggleState,c=this.handleClick,o=this.handleDelete;return Object(b.jsx)(f.b,{flipKey:e,spring:"stiff",stagger:!0,children:e?Object(b.jsx)(g,{unitRef:t,isOpen:e,toggleState:a,keydownHandler:n,handleClick:c,handleDelete:o,textObj:this.props.text}):Object(b.jsx)(f.a,{flipId:"wrapper",children:Object(b.jsx)("div",{ref:t,tabIndex:0,role:"button",className:"button primary",onClick:a,onKeyDown:n,children:Object(b.jsx)(f.a,{flipId:"action",children:Object(b.jsx)("span",{className:"action",children:"Delete"})})})})})}}]),n}(a.Component);function v(e){var t=e.products,n=e.onDeleteProduct;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Product List"}),Object(b.jsx)("ul",{children:t.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("h3",{children:e.title}),Object(b.jsx)("p",{children:e.description}),Object(b.jsx)(m,{onDelete:n,id:e.id})]},e.id)}))})]})}var x=n(14),y=n.n(x),k=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleEscape=function(t){var n="Escape"===t.code;console.log(n),n&&e.props.toggleModal()},e.handleClose=function(t){t.currentTarget===t.target&&e.props.toggleModal()},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEscape)}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEscape)}},{key:"render",value:function(){var e=this.props.children;return Object(o.createPortal)(Object(b.jsx)("div",{className:y.a.backDrop,onClick:this.handleClose,children:Object(b.jsx)("div",{className:y.a.content,children:e})}),document.getElementById("modalRoot"))}}]),n}(a.Component),S=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={searchValue:""},e.handleSearchChange=function(t){e.setState({searchValue:t.target.value})},e.handleSearchSubmit=function(t){t.preventDefault(),console.log("before fetch",e.state.searchValue),e.props.getSearchValue(e.state.searchValue)},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("form",{onSubmit:this.handleSearchSubmit,children:[Object(b.jsx)("input",{type:"text",name:"searchValue",onChange:this.handleSearchChange,value:this.state.searchValue}),Object(b.jsx)("button",{type:"search",children:"search"})]})}}]),n}(Object(a.Component)()),w=n(12),P=n.n(w),C=new(function(){function e(t,n){Object(l.a)(this,e),this.base_url=t,this.api_key=n,this._searchQuery="",this.page=1,this.prePage=5,this.endPoint=""}return Object(i.a)(e,[{key:"searchQuery",get:function(){return this._searchQuery},set:function(e){return this._searchQuery=e}},{key:"searchPhotos",value:function(){P.a.defaults.baseURL=this.base_url,P.a.defaults.headers.common.Authorization=this.api_key,this.endPoint="search";var e="?query=".concat(this.searchQuery,"&page=").concat(this.page,"&per_page=").concat(this.prePage),t=this.endPoint+e;return P.a.get(t).then((function(e){return e.data})).then((function(e){return e.photos})).catch((function(e){console.log(e)}))}}]),e}())("https://api.pexels.com/v1/","563492ad6f9170000100000188f3b8d3cd1047e392f28560cf9684bd"),D=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={searchResults:[]},e}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;e.searchValue!==this.props.searchValue&&(console.log("get fetch"),C.searchQuery=this.props.searchValue,C.searchPhotos().then((function(e){console.log(e),n.setState({searchResults:e})})))}},{key:"render",value:function(){return Object(b.jsx)("ul",{children:this.state.searchResults.length.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)("img",{src:e.src.tiny,alt:e.photographer})},e.id)}))})}}]),n}(Object(a.Component)()),I=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={counter:0,isOpen:!1,showModal:!1,allProducts:[],searchValue:""},e.addNewProduct=function(t){return e.setState((function(e){return{allProducts:[].concat(Object(s.a)(e.allProducts),[t])}}))},e.deleteProduct=function(t){return e.setState((function(e){return{allProducts:e.allProducts.filter((function(e){return e.id!==t}))}}))},e.toggleModal=function(){e.setState({showModal:!e.state.showModal})},e.getSearchValue=function(t){return e.setState({searchValue:t})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){console.log("MOUNT");var e=localStorage.getItem("products"),t=JSON.parse(e);t&&this.setState({allProducts:t}),this.setState({allProducts:t})}},{key:"componentDidUpdate",value:function(e,t){console.log("UPDATE"),t.allProducts!==this.state.allProducts&&localStorage.setItem("products",JSON.stringify(this.state.allProducts))}},{key:"componentWillUnmount",value:function(){console.log("UNMOUNT")}},{key:"render",value:function(){return console.log("RENDER METHOD"),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(S,{getSearchValue:this.getSearchValue}),Object(b.jsx)(D,{searchValue:this.state.searchValue}),this.state.showModal&&Object(b.jsx)(k,{toggleModal:this.toggleModal,children:Object(b.jsx)(O,{addNewProduct:this.addNewProduct})}),Object(b.jsx)("h1",{children:"FE-35 Product"}),Object(b.jsx)("button",{type:"button",onClick:this.toggleModal,children:"Add product"}),Object(b.jsx)(v,{products:this.state.allProducts,onDeleteProduct:this.deleteProduct})]})}}]),n}(a.Component),N=I;r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.c879ed16.chunk.js.map